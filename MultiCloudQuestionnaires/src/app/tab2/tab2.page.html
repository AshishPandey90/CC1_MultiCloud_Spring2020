<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Customer Satisfaction Survey
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Customer Satisfaction Survey</ion-title>
    </ion-toolbar>
  </ion-header>

  <form [formGroup]="customerSatisfactionForm">

    <ion-item>
      <ion-label><b>To what extent do you agree with the following statements:</b></ion-label>
    </ion-item>

    <ion-item>
      <ion-label>"I am satisfied with the templates that were recommended to me."</ion-label>
      <ion-select slot="start" formControlName="satisfied">
        <ion-select-option value='Strongly Agree'>Strongly Agree</ion-select-option>
        <ion-select-option value='Agree'>Agree</ion-select-option>
        <ion-select-option value='Neutral'>Neutral</ion-select-option>
        <ion-select-option value='Disagree'>Disagree</ion-select-option>
        <ion-select-option value='Strongly Disagree'>Strongly Disagree</ion-select-option>
      </ion-select>
    </ion-item>
    <div class="error"
      *ngIf="customerSatisfactionForm.hasError('required', 'satisfied') && (customerSatisfactionForm.controls.satisfied.dirty || customerSatisfactionForm.controls.satisfied.touched)">
      <ion-icon slot="end" name="alert"></ion-icon>
      This field is required
    </div>

    <ion-item>
      <ion-label>"The template recommendations made it easy for me to choose a cloud service."</ion-label>
      <ion-select slot="start" formControlName="recommendations">
        <ion-select-option value='Strongly Agree'>Strongly Agree</ion-select-option>
        <ion-select-option value='Agree'>Agree</ion-select-option>
        <ion-select-option value='Neutral'>Neutral</ion-select-option>
        <ion-select-option value='Disagree'>Disagree</ion-select-option>
        <ion-select-option value='Strongly Disagree'>Strongly Disagree</ion-select-option>
      </ion-select>
    </ion-item>
    <div class="error"
      *ngIf="customerSatisfactionForm.hasError('required', 'recommendations') && (customerSatisfactionForm.controls.recommendations.dirty || customerSatisfactionForm.controls.recommendations.touched)">
      <ion-icon slot="end" name="alert"></ion-icon>
      This field is required
    </div> 

    <ion-item>
      <ion-label>"The recommended templates accurately reflect my cloud service preferences."</ion-label>
      <ion-select slot="start" formControlName="preferences">
        <ion-select-option value='Strongly Agree'>Strongly Agree</ion-select-option>
        <ion-select-option value='Agree'>Agree</ion-select-option>
        <ion-select-option value='Neutral'>Neutral</ion-select-option>
        <ion-select-option value='Disagree'>Disagree</ion-select-option>
        <ion-select-option value='Strongly Disagree'>Strongly Disagree</ion-select-option>
      </ion-select>
    </ion-item>
    <div class="error"
      *ngIf="customerSatisfactionForm.hasError('required', 'preferences') && (customerSatisfactionForm.controls.preferences.dirty || customerSatisfactionForm.controls.preferences.touched)">
      <ion-icon slot="end" name="alert"></ion-icon>
      This field is required
    </div>

    <br>
    <br>
    <ion-label postion="floating"><b>Please enter any additional feedback here:</b></ion-label>
    <ion-item>
      <ion-textarea formControlName="feedback" type="text" placeholder="Enter text here..." autoGrow="true"
        spellcheck="true" wrap="hard"></ion-textarea>
    </ion-item>
    <div class="error"
      *ngIf="customerSatisfactionForm.hasError('maxlength', 'feedback')">
      <ion-icon slot="end" name="alert"></ion-icon>
      Feedback cannot exceed 200 characters
    </div>
    <div class="error"
      *ngIf="customerSatisfactionForm.hasError('pattern', 'feedback')">
      <ion-icon slot="end" name="alert"></ion-icon>
      Only alphanumeric characters, dashes(-), periods(.), and apostrophes(') are accepted
    </div>

  </form>

  <ion-button color="tertiary" [disabled]="!customerSatisfactionForm.valid" expand="full" (click)="submitSurvey()">Submit
  </ion-button>

</ion-content>